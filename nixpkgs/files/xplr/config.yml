version: v0.4.0
modes:
  builtin:
    default:
      name: default
      key_bindings:
        on_key:
          f:
            help: fzf mode
            messages:
              - SwitchMode: fzxplr
  custom:
    fzxplr:
      name: fzxplr
      extra_help: null
      key_bindings:
        on_key:
          f:
            help: search
            messages:
              - BashExec: |
                  PTH=$(cat "${XPLR_PIPE_DIRECTORY_NODES_OUT:?}" | fzf)
                  if [ -d "$PTH" ]; then
                      echo "ChangeDirectory: ${PTH:?}" >> "${XPLR_PIPE_MSG_IN:?}"
                  elif [ -f "$PTH" ]; then
                      echo "FocusPath: ${PTH:?}" >> "${XPLR_PIPE_MSG_IN:?}"
                  fi
              - SwitchMode: default
        default:
          messages:
            - SwitchMode: default
